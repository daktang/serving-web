<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="theme-color" content="#000000" />
  <link rel="icon" type="image/png" id="fevicon" href="images/icons/favicon.png" sizes="32x32">

  <script src="config.js"></script>
  <script src="//code.jquery.com/jquery-1.4.2.min.js"></script>
  <script src="//cdn.socket.io/4.4.1/socket.io.min.js"></script>

  <!-- dev 전용: detail API가 포털 절대 URL이면 /api로 바꿔 프록시 태움 -->
  <script>
  (function () {
    var HOSTS = [
      'https://portal.aiserving.dev.aip.domain.net',
      'http://portal.aiserving.dev.aip.domain.net'
    ];
    var PATH = '/api/v2/menu/side-menu/detail';

    function toLocal(u) {
      if (typeof u !== 'string') return u;
      for (var i = 0; i < HOSTS.length; i++) {
        var full = HOSTS[i] + PATH;
        if (u.indexOf(full) === 0) return u.substring(u.indexOf(PATH));
      }
      return u;
    }

    if (window.fetch) {
      var _fetch = window.fetch;
      window.fetch = function (input, init) {
        var url = (typeof input === 'string') ? input : (input && input.url);
        if (url) {
          var nu = toLocal(url);
          if (nu !== url) input = (typeof input === 'string') ? nu : new Request(nu, input);
        }
        return _fetch(input, init || {});
      };
    }

    if (window.XMLHttpRequest) {
      var _open = XMLHttpRequest.prototype.open;
      XMLHttpRequest.prototype.open = function (method, url) {
        arguments[1] = toLocal(url);
        return _open.apply(this, arguments);
      };
    }
  })();
  </script>

  <script>document.title = window.config.applicationTitle || window.config.applicationName;</script>
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root" class="grip-resizable"></div>
</body>
</html>
